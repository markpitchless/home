#!/bin/bash

#
# Boot strap nfa install by cloning git repo into ~/.nfa
# Back up the old (probably distro default) .bashrc, .bash_profile etc files and
# symlink in the nfa versions.
#

set -euo pipefail

if ! which git 1>/dev/null; then
    sudo apt-get install git
fi

cd # nfa installs into your home

if [ -d ~/.nfa ]; then
    echo NFA already boot strapped
    exit 0
fi

git clone http://github.com/markpitchless/home.git ~/.nfa
(
    cd ~/.nfa
    git submodule update --init
)

exec ~/.nfa/bin/nfa-infect
